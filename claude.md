# 🎤 音声録音 + 文字起こしアプリ（録音部分）

## 概要
- SwiftUIで録音開始/停止ボタンを押すと音声録音ができる
- 録音中は波形が動く
- 録音終了後、音声ファイルとして保存
- 後でこの音声ファイルを文字起こしAPIに送る想定

## 前提設定
1. `Info.plist` に以下を追加
   - `Privacy - Microphone Usage Description`
   - （リアルタイム文字起こしをする場合は）`Privacy - Speech Recognition Usage Description`

---

## 実装ステップ

### ✅ Step 1: プロジェクト準備
- **やること**
  - SwiftUIプロジェクトを作成
  - Info.plist にマイク使用許可を追加
- **コミットメッセージ例**
chore: プロジェクト作成 & Info.plist にマイク使用許可追加

yaml
コピーする
編集する

---

### ✅ Step 2: 録音管理クラスの作成
- **やること**
- `AudioRecorder.swift` を作成
- AVAudioSession と AVAudioRecorder を用いた録音開始・停止・保存の処理を実装
- **コミットメッセージ例**
feat: AudioRecorder クラスを作成し録音開始・停止機能を実装

yaml
コピーする
編集する

---

### ✅ Step 3: 波形表示用ビューの作成
- **やること**
- `WaveformView.swift` を作成
- メータリングで録音音量を取得して波形を描画する
- **コミットメッセージ例**
feat: WaveformView を作成し録音中に波形が動くように実装

yaml
コピーする
編集する

---

### ✅ Step 4: ContentView に録音UIを追加
- **やること**
- マイクボタンを配置し、録音開始/停止を切り替えられるようにする
- 録音中は波形が表示されるようにする
- **コミットメッセージ例**
feat: ContentView に録音ボタンと波形表示を追加

yaml
コピーする
編集する

---

### ✅ Step 5: 録音終了後のファイル管理
- **やること**
- 録音終了後にファイルURLを取得し、保存先をコンソールに出力
- 今後の文字起こしAPI連携に備える
- **コミットメッセージ例**
feat: 録音終了後にファイルURLを取得しコンソールに出力

yaml
コピーする
編集する

---

### ✅ Step 6（オプション）: リアルタイム文字起こし
- **やること**
- `SFSpeechRecognizer` を使って録音しながら文字起こしする機能を追加
- **コミットメッセージ例**
feat: Speech Framework を使ったリアルタイム文字起こし機能を追加

yaml
コピーする
編集する

---

## 補足
- 最低限必要なコードはClaude Codeに書いてもらう。
- 波形表示はメータリングを使ったシンプルな実装でOK。
- 録音後のファイル管理は `.m4a` 形式で保存し、後でAPIに送る想定。